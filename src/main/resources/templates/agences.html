<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<title>Location des voitures</title>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
		integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>

<body>
	<div th:insert="/sidebar::navbar"></div>
	<div class="container my-2">
		<h1>Liste des agences</h1>

		<a href="/add-agence" class="btn btn-primary "> Add Agence </a>
		<br /><br />


		<table border="1" class="table table-striped">
			<thead class="table-primary">
				<tr>
					<th>Telephone Number</th>
					<th>Address Agence</th>
					<th>Villes</th>
					<th> Actions </th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="agences : ${listAgences}">
					<td th:text="${agences.telephone}"></td>
					<td th:text="${agences.address}"></td>
					<td>
						<span th:if="${agences.villes != null}" th:text="${agences.villes.nomVille}"></span>
						<span th:if="${agences.villes == null}">N/A</span>
					</td>
					<td>
						<div class="btn-group">
							<a th:href="@{/view-agence/{id}(id=${agences.id})}" class="btn mx-2 btn-light">View</a>
							<a th:href="@{/edit-agence/{id}(id=${agences.id})}"
								class="btn mx-2 btn-outline-primary">Update</a>


							<form th:action="@{/api/agence/delete/{id}(id=${agences.id})}" th:method="delete">
								<button type="submit" class="btn btn-outline-danger">Delete</button>
							</form>
						</div>


					</td>
				</tr>
			</tbody>
		</table>
	</div>
</body>

</html>